<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <title th:text="${title}"></title>
    <link rel="icon" th:href="@{/img/favicon.ico}" type="image/x-icon">
    <link rel="stylesheet" type="text/css" th:href="@{/css/style.css}">
    <script th:src="@{/js/jquery-3.6.0.min.js}"></script>
    <script th:src="@{/js/popper.min.js}"></script>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

    <link rel="stylesheet" type="text/css" th:href="@{/css/fa-all-5.15.2.css}">
    <script th:src="@{/js/fa-all-5.15.2.js}"></script>
    <script th:src="@{/js/sweetalert.min.js}" defer></script>
    <link rel="stylesheet" type="text/css" th:href="@{/css/swiper-bundle.min.css}">
    <script th:src="@{/js/swiper-bundle.min.js}"></script>
</head>

<body>
    <div class="offcanvas offcanvas-start" tabindex="-1" id="sidebarOffcanvas"
        aria-labelledby="offcanvasWithBackdropLabel">
        <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="offcanvasWithBackdropLabel">
                Offcanvas with backdrop
            </h5>
            <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button>
        </div>
        <div class="offcanvas-body">
            <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                <li class="nav-item">
                    <a class="nav-link active" aria-current="page" href="#">Home</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#">Link</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link disabled" href="#" tabindex="-1" aria-disabled="true">Disabled</a>
                </li>
            </ul>
            <form class="d-flex">
                <input class="form-control bg-white me-2" type="search" placeholder="Search" aria-label="Search">
                <button class="btn btn-outline-success" type="submit">Search</button>
            </form>
        </div>
    </div>
    <nav id="navbar" class="navbar navbar-expand-sm" style="height: 50px">
        <div class="container my-0 p-0 justify-content-between align-items-center">
            <a class="navbar-brand" href="/">
                <img src="./img/logo.png" style="height: 28px;">
            </a>
            <div class="box-search d-none d-md-flex">
                <form th:action="@{/search}" method="get" class="d-flex">
                    <input class="form-control" type="text" th:name="name" autocomplete="off" placeholder="Tìm truyện">
                    <button class="btn" type="submit">
                        <i class="fas fa-search"></i>
                    </button>
                </form>
            </div>

            <button id="btn-open-sidebar" class="btn d-md-none" type="button" data-bs-toggle="offcanvas"
                data-bs-target="#sidebarOffcanvas" aria-controls="sidebarOffcanvas"><i
                    class="fas fa-bars fa-2x"></i></button>

            <div class="dropdown box-login d-none d-md-flex justify-content-end" th:if="${#authorization.expression('isAuthenticated()')}">
                <button class="btn dropdown-toggle" type="button" id="dropdownMenuButton" data-bs-toggle="dropdown"
                        aria-expanded="false">
                    <span class="text-white" th:text="${#authentication.principal.username}"></span>
                </button>
                <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                    <!-- Link to profile -->
                    <li><a class="dropdown-item" href="/profile">Trang cá nhân</a></li>
                    <!-- Link to saved stories -->
                    <li><a class="dropdown-item" href="/saved-stories">Truyện đã lưu</a></li>
                    <!-- Link to logout -->
                    <li><a class="dropdown-item" href="/logout">Đăng xuất</a></li>
                </ul>
            </div>
            <div th:unless="${#authorization.expression('isAuthenticated()')}">
                <div class="box-login d-flex justify-content-end">
                    <a href="/login" class="btn border-0 shadow-0 text-white">Đăng nhập</a>/
                    <a href="/register" class="btn border-0 shadow-0 text-white">Đăng ký</a>
                </div>
            </div>




        </div>
    </nav>
    <nav id="nav-bot" class="d-none d-md-flex">
        <ul class="container my-0 p-0 d-flex items-center justify-start">
            <a href="/" class="nav-item btn active">
                <i class="fas fa-home"></i>
            </a>
            <a href="/" class="nav-item btn">
                hot
            </a>
            <div class="nav-item group">
                <a href="/" class="btn">
                    thể loại
                </a>
                <div class="group-menu shadow">
                    <a th:each="tag : ${global.get('tags')}" href="#" class="group-item py-2 btn w-100"
                        th:text="${tag.name}"></a>
                </div>
            </div>
        </ul>
    </nav>

    <div class="container py-3 py-md-4" id="wrap-content">
        <div class="w-100 m-0 p-0 container">

            <div th:replace="~{${content}}"></div>

        </div>
    </div>
</body>

</html>